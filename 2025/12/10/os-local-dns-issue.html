
<!DOCTYPE >
<html lang="zh-cn" data-scribe-reduced-action-queue="true">
  <head>
    <meta content="[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC) - Hayden J GitHub blog" name="title" />
    <meta content="[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC) - Hayden J GitHub blog" name="og:title" />
    <title>[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC) - Hayden J GitHub blog</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC) - Hayden J GitHub blog</title>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC) - Hayden J GitHub blog">
<meta name="twitter:keywords" content="[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC) - Hayden J GitHub blog" property="og:description" />
<meta property="og:type" content="article">
<meta property="og:title" content="[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC) - Hayden J GitHub blog">
<meta name="og:keywords"
      content="[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC) - Hayden J GitHub blog|ê°œìš”ë‚´ë¶€ë§ì—ì„œ ì›ë˜ ì“°ë˜ DNS ì„œë²„(ì´í•˜ UPSTREAM_DNS)ê°€ ë”°ë¡œ ìˆê³ ,ë¦¬ëˆ…ìŠ¤ ì„œë²„ í•˜ë‚˜(ì´í•˜ LOCAL_DNS)ì—ëŠ” BINDê°€ ë™ì‘ë§Œ í•˜ê³  ìˆì—ˆë‹¤.LOCAL_DNSëŠ” ì›ë˜ DNS ì „ìš© ì„œë²„ê°€ ì•„ë‹ˆë¼,..."
      property="og:description" />
<meta name="theme-Jekyll by liberxue" content="#eb5055">
<link rel="icon" type="image/png" href="https://jhy156456.github.io/style/favicons/favicon.ico" />
<link href="https://jhy156456.github.io/style/favicons/favicon.ico" rel="shortcut icon" type="image/png">
<!-- ëŒ“ê¸€ ì´ìŠˆ ìˆ˜ì • -->
<!-- <link rel="canonical" href="https://jhy156456.github.io/"> -->
<link rel="canonical" href="" />
<link rel="alternate" type="application/rss+xml" title="jhy156456" href="https://jhy156456.github.io/feed.xml">
<meta charset="UTF-8">
<!-- <link rel="manifest" href="/manifest.json"> -->
<link rel="shortcut icon" href="https://jhy156456.github.io/style/favicons/favicon.ico" type="image/x-icon">
<meta name="keywords" content="ê°œìš”ë‚´ë¶€ë§ì—ì„œ ì›ë˜ ì“°ë˜ DNS ì„œë²„(ì´í•˜ UPSTREAM_DNS)ê°€ ë”°ë¡œ ìˆê³ ,ë¦¬ëˆ…ìŠ¤ ì„œë²„ í•˜ë‚˜(ì´í•˜ LOCAL_DNS)ì—ëŠ” BINDê°€ ë™ì‘ë§Œ í•˜ê³  ìˆì—ˆë‹¤.LOCAL_DNSëŠ” ì›ë˜ DNS ì „ìš© ì„œë²„ê°€ ì•„ë‹ˆë¼,..."
      property="og:description" />
<meta name="description" content="ì˜¤ëŠ˜ ë¬´ì–¸ê°€ë¥¼ í•˜ì§€ì•Šìœ¼ë©´ ë‚´ì¼ì€ ì €ì ˆë¡œ ì˜¤ì§€ì•ŠëŠ”ë‹¤" />
<!--<link href="https://cdn.bootcss.com/highlight.js/9.10.0/styles/xcode.min.css" rel="stylesheet">-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css" integrity="sha512-rO+olRTkcf304DQBxSWxln8JXCzTHlKnIdnMUwYvQa9/Jd4cQaNkItIUj6Z4nvW1dqK0SKXLbn9h4KwZTNtAyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>

<!--<link href="https://jhy156456.github.io/assets/css/syntax.css" rel="stylesheet">-->
<link href="https://jhy156456.github.io/style/style-liberxue.css" rel="stylesheet">
<!-- <link href="https://jhy156456.github.io/_sass/minimal-mistakes/_navigation.scss" rel="stylesheet"> -->

<meta content="https://jhy156456.github.io/2025/12/10/os-local-dns-issue.html" property="og:url" />
<meta content="https://jhy156456.github.io/2025/12/10/os-local-dns-issue.html|ê°œìš”ë‚´ë¶€ë§ì—ì„œ ì›ë˜ ì“°ë˜ DNS ì„œë²„(ì´í•˜ UPSTREAM_DNS)ê°€ ë”°ë¡œ ìˆê³ ,ë¦¬ëˆ…ìŠ¤ ì„œë²„ í•˜ë‚˜(ì´í•˜ LOCAL_DNS)ì—ëŠ” BINDê°€ ë™ì‘ë§Œ í•˜ê³  ìˆì—ˆë‹¤.LOCAL_DNSëŠ” ì›ë˜ DNS ì „ìš© ì„œë²„ê°€ ì•„ë‹ˆë¼,..."
      property="og:description" />
<meta content="article" property="og:type" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S9G62LP1GS"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }

  gtag("js", new Date());
  gtag("config", "G-S9G62LP1GS");
</script>
<!--  -->

    
      <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  TeX: {
            equationNumbers: {
              autoNumber: "AMS"
            }
          },
          tex2jax: {
          inlineMath: [ ['$', '$'] ],
          displayMath: [ ['$$', '$$'] ],
          processEscapes: true,
        }
      });
      MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
            alert("Math Processing Error: "+message[1]);
          });
      MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
            alert("Math Processing Error: "+message[1]);
          });
</script>
<script
  type="text/javascript"
  async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"
></script>

    
  </head>

  <body class="" gtools_scp_screen_capture_injected="true">
    <header id="header" class="header bg-white">
      <div class="navbar-container">
        <a
          href="/"
          title="Hayden J GitHub blog"
          class="navbar-logo">
          <img src="https://jhy156456.github.io/style/images/logo-jhy156456.png" alt="Hayden J GitHub blog" />
        </a>
        <div class="navbar-menu">
          
            <a href="https://jhy156456.github.io/">í™ˆ</a>
          
            <a href="https://jhy156456.github.io/review">ë¦¬ë·°</a>
          
            <a href="https://jhy156456.github.io/study">ì¹´í…Œê³ ë¦¬</a>
          
            <a href="https://jhy156456.github.io/archives">ê¸°ë¡</a>
          
            <a href="https://jhy156456.github.io/about">About Me</a>
          
        </div>
        <div class="navbar-search" id="navbar-search-toggle">
          <span class="icon-search"></span>
          <form id="cb-search-btn" role="search">
            <span class="search-box">
              <input
                type="text"
                class="input"
                id="cb-search-content"
                required="true"
                placeholder="ê²€ìƒ‰..."
                maxlength="30"
                autocomplete="off" />
            </span>
          </form>
        </div>
        <div class="navbar-mobile-menu" onclick="">
          <span class="icon-menu cross">
            <span class="middle"></span>
          </span>
          <ul>
            
              <li>
                <a href="https://jhy156456.github.io/">í™ˆ</a>
              </li>
            
              <li>
                <a href="https://jhy156456.github.io/review">ë¦¬ë·°</a>
              </li>
            
              <li>
                <a href="https://jhy156456.github.io/study">ì¹´í…Œê³ ë¦¬</a>
              </li>
            
              <li>
                <a href="https://jhy156456.github.io/archives">ê¸°ë¡</a>
              </li>
            
              <li>
                <a href="https://jhy156456.github.io/about">About Me</a>
              </li>
            
          </ul>
        </div>
      </div>
    </header>
    <div class="post-header-thumb bg-white}">
      <!-- <div class="post-header-thumb-op"></div> -->
      <div class="post-header-thumb">
        <div class="post-header-thumb-container">
          <h1 class="post-title" itemprop="name headline">[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC)</h1>
          <div class="post-data">
            <time datetime="2025-12-10 17:00:00" itemprop="datePublished">ì‘ì„±ì¼ìï¼š2025-12-10 17:00:00</time>
            <br/>
            <span class="view-count-label">ì¡°íšŒìˆ˜: <span class="view-count">0</span></span>
            <br/>
            <a
              href="/tags#study"
              title="study"
              data-hover="ë¶„ë¥˜: study">
              ë¶„ë¥˜: study</a>
            <!-- <a href="#read">
            ëŒ“ê¸€: comments</a> -->
          </div>
          <div class="post-tags">
            
              
              
                
                  <a
                    href="/tags#dns  - bind  - linux  - dnssec"
                    title="dns  - bind  - linux  - dnssec"
                    data-hover="dns  - bind  - linux  - dnssec">
                    dns  - bind  - linux  - dnssec
                    <span>(1)</span>
                    
                  </a>
                
              
              
            
          </div>
        </div>
      </div>
    </div>
    <article
      class="main-post post-page"
      itemscope
      itemtype="http://schema.org/Article">
      <div class="post-header">
        <h1 class="post-title" itemprop="name headline">[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC)</h1>
        <div class="post-data">
          <time datetime="2025-12-10 17:00:00" itemprop="datePublished">2025-12-10 17:00:00</time>
          <span class="view-count-label"> | ì¡°íšŒìˆ˜: <span class="view-count">0</span></span>
        </div>
      </div>
      <div
        id="post-content"
        class="post-content"
        itemprop="articleBody">
        <p class="post-tags">
          
            
            
              
                <a
                  href="/tags#dns  - bind  - linux  - dnssec"
                  title="dns  - bind  - linux  - dnssec"
                  data-hover="dns  - bind  - linux  - dnssec">
                  dns  - bind  - linux  - dnssec
                  <span>(1)</span>
                  
                </a>
              
            
            
          
        </p>
        <h1 id="ê°œìš”">ê°œìš”</h1>

<p>ë‚´ë¶€ë§ì—ì„œ ì›ë˜ ì“°ë˜ DNS ì„œë²„(ì´í•˜ <code class="language-plaintext highlighter-rouge">UPSTREAM_DNS</code>)ê°€ ë”°ë¡œ ìˆê³ ,<br />
ë¦¬ëˆ…ìŠ¤ ì„œë²„ í•˜ë‚˜(ì´í•˜ <code class="language-plaintext highlighter-rouge">LOCAL_DNS</code>)ì—ëŠ” BINDê°€ ë™ì‘ë§Œ í•˜ê³  ìˆì—ˆë‹¤.<br />
<code class="language-plaintext highlighter-rouge">LOCAL_DNS</code>ëŠ” ì›ë˜ DNS ì „ìš© ì„œë²„ê°€ ì•„ë‹ˆë¼, ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ + BIND ì •ë„ì˜ ìƒíƒœ.</p>

<p>íŠ¹ì • ì´ìŠˆ ë•Œë¬¸ì— ë‚´ë¶€ í´ë¼ì´ì–¸íŠ¸ë“¤ì´ ì°¸ì¡°í•˜ëŠ” DNSë¥¼ ì ê¹</p>

<ul>
  <li>ê¸°ì¡´: <code class="language-plaintext highlighter-rouge">UPSTREAM_DNS</code></li>
  <li>ë³€ê²½: <code class="language-plaintext highlighter-rouge">LOCAL_DNS</code> â†’ ë‚´ë¶€ì ìœ¼ë¡œëŠ” ë‹¤ì‹œ <code class="language-plaintext highlighter-rouge">UPSTREAM_DNS</code>ë¡œ forward</li>
</ul>

<p>ì´ë ‡ê²Œ ë°”ê¾¸ê³  ë‚˜ì„œ, <strong>íŠ¹ì • ë„ë©”ì¸(<code class="language-plaintext highlighter-rouge">install.internal-example.com</code> ê°™ì€ ë‚´ë¶€ ë„ë©”ì¸)</strong> ë§Œ<br />
ê³„ì† <code class="language-plaintext highlighter-rouge">SERVFAIL</code> / timeout ì´ ë‚˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.</p>

<hr />

<h1 id="í™˜ê²½-ì •ë¦¬-ê°„ë‹¨">í™˜ê²½ ì •ë¦¬ (ê°„ë‹¨)</h1>

<p>ì‹¤ì œ IP, ë„ë©”ì¸ ë“±ì€ ì „ë¶€ ê°€ëª… ì²˜ë¦¬í–ˆë‹¤.</p>

<ul>
  <li>ì›ë˜ ì‚¬ë‚´ DNS: <code class="language-plaintext highlighter-rouge">UPSTREAM_DNS</code></li>
  <li>ì„ì‹œ DNS ì—­í• : <code class="language-plaintext highlighter-rouge">LOCAL_DNS</code> (BIND)</li>
  <li>ë¬¸ì œ ë„ë©”ì¸: <code class="language-plaintext highlighter-rouge">install.internal-example.com</code></li>
</ul>

<p><code class="language-plaintext highlighter-rouge">LOCAL_DNS</code> ì˜ BIND í•µì‹¬ ì„¤ì • (ê°œë…ë§Œ):</p>

<ul>
  <li>DNS ì„¤ì • : <code class="language-plaintext highlighter-rouge">/etc/named.conf</code></li>
  <li>ë‚´ë¶€ì— include ë° directory í™•ì¸</li>
  <li>ë‚´ LOCAL_DNSëŠ” <code class="language-plaintext highlighter-rouge">include "/etc/named.rfc~~"</code> + <code class="language-plaintext highlighter-rouge">directory "/var/named "</code> ì„¤ì •ë˜ì–´ ìˆìŒ</li>
</ul>

<div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">options</span> {
    <span class="n">directory</span> <span class="s2">"/var/named"</span>;
    <span class="n">recursion</span> <span class="n">yes</span>;

    <span class="n">forwarders</span> {
        <span class="n">UPSTREAM_DNS_IP</span>;
    };

    // ê¸°ë³¸ê°’: <span class="n">dnssec</span>-<span class="n">enable</span> <span class="n">yes</span>;
    //        <span class="n">dnssec</span>-<span class="n">validation</span> <span class="n">auto</span>;
};
</code></pre></div></div>

<p>ì˜ë„ëŠ” ë‹¨ìˆœíˆ:</p>

<blockquote>
  <p>â€œLOCAL_DNSëŠ” ìºì‹œ + í¬ì›Œë”ë§Œ í•˜ê³ ,<br />
ì‹¤ì œ í•´ì„ì€ ê³„ì† UPSTREAM_DNSê°€ í•˜ê²Œ ë‘ì.â€</p>
</blockquote>

<p>ì˜€ë‹¤.</p>

<hr />

<h1 id="ì¦ìƒ">ì¦ìƒ</h1>

<p>ìœˆë„ìš°ì—ì„œ DNS ì„œë²„ë¥¼ <code class="language-plaintext highlighter-rouge">LOCAL_DNS</code> ë¡œ ì„¤ì •í–ˆì„ ë•Œ:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nslookup</span><span class="w"> </span><span class="nx">install.internal-example.com</span><span class="w"> </span><span class="nx">LOCAL_DNS_IP</span><span class="w">
</span><span class="p">;;</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="err">ë˜ëŠ”</span><span class="w"> </span><span class="nx">SERVFAIL</span><span class="w">
</span></code></pre></div></div>

<p>ë°˜ëŒ€ë¡œ DNSë¥¼ ë‹¤ì‹œ <code class="language-plaintext highlighter-rouge">UPSTREAM_DNS</code> ë¡œ ëŒë¦¬ë©´:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nslookup</span><span class="w"> </span><span class="nx">install.internal-example.com</span><span class="w"> </span><span class="nx">UPSTREAM_DNS_IP</span><span class="w">
</span><span class="p">;;</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="err">ì •ìƒ</span><span class="w"> </span><span class="err">ì‘ë‹µ</span><span class="w">
</span></code></pre></div></div>

<p>ë¦¬ëˆ…ìŠ¤ <code class="language-plaintext highlighter-rouge">LOCAL_DNS</code> ì„œë²„ì—ì„œ í…ŒìŠ¤íŠ¸:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1) LOCAL_DNS ìì‹ ì˜ BINDì—ê²Œ ì§ˆì˜</span>
dig @127.0.0.1 install.internal-example.com +noall +answer +comments
<span class="p">;;</span> status: SERVFAIL

<span class="c"># 2) UPSTREAM_DNS ì— ì§ì ‘ ì§ˆì˜</span>
dig @UPSTREAM_DNS_IP install.internal-example.com +noall +answer +comments
<span class="p">;;</span> status: NOERROR <span class="o">(</span>ì •ìƒ ì‘ë‹µ<span class="o">)</span>
</code></pre></div></div>

<p>ì •ë¦¬:</p>

<ul>
  <li>ì—…ìŠ¤íŠ¸ë¦¼ DNSì— ì§ì ‘ ì§ˆì˜í•˜ë©´ í•­ìƒ ì •ìƒ</li>
  <li>ì¤‘ê°„ì— ìˆëŠ” BIND(LOCAL_DNS)ë¥¼ ê±°ì¹˜ë©´ SERVFAIL</li>
</ul>

<hr />

<h1 id="ì›ì¸-dnssec-ê²€ì¦-ì‹¤íŒ¨-broken-trust-chain">ì›ì¸: DNSSEC ê²€ì¦ ì‹¤íŒ¨ (broken trust chain)</h1>

<p><code class="language-plaintext highlighter-rouge">LOCAL_DNS</code> ì˜ named ë¡œê·¸ë¥¼ ë³´ë©´ ëŒ€ëµ ì´ëŸ° ë©”ì‹œì§€ê°€ ìˆì—ˆë‹¤.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo egrep -R "internal-example.com" /etc/named.conf /etc/named.* /var/named 2&gt;/dev/null
broken trust chain resolving 'install.internal-example.com/IN/A' ...
</code></pre></div></div>

<p>ì´ ë©”ì‹œì§€ëŠ” BINDì—ì„œ <strong>DNSSEC ê²€ì¦ì´ ì‹¤íŒ¨í–ˆì„ ë•Œ</strong> ìì£¼ ë“±ì¥í•œë‹¤.</p>

<ul>
  <li>ë¡œì»¬ DNSëŠ” DNSê²€ì¦ì„ í•˜ê³ ìˆì—ˆê³  UPSTREAM_DNSëŠ” DNS ê²€ì¦ì„ í•˜ê³ ìˆì§€ ì•Šì•˜ìŒ</li>
  <li>DNSSEC = DNS ì‘ë‹µì— â€œì „ìì„œëª…+ê²€ì¦â€ ì–¹ì–´ì„œ, ìœ„ì¡° ì—¬ë¶€ë¥¼ ì¡ì•„ë‚´ëŠ” ê¸°ëŠ¥</li>
</ul>

<p>ì‹¤ì œ íë¦„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<ol>
  <li>í´ë¼ì´ì–¸íŠ¸ â†’ <code class="language-plaintext highlighter-rouge">LOCAL_DNS</code> ì— <code class="language-plaintext highlighter-rouge">install.internal-example.com</code> ì§ˆì˜</li>
  <li><code class="language-plaintext highlighter-rouge">LOCAL_DNS</code> â†’ <code class="language-plaintext highlighter-rouge">UPSTREAM_DNS</code> ë¡œ forward</li>
  <li><code class="language-plaintext highlighter-rouge">UPSTREAM_DNS</code> ëŠ” ì •ìƒ ì‘ë‹µ(A ë ˆì½”ë“œ)ì„ ë°˜í™˜</li>
  <li><code class="language-plaintext highlighter-rouge">LOCAL_DNS</code> ëŠ” ì´ ì‘ë‹µì— ëŒ€í•´ <strong>DNSSEC ê²€ì¦ ìˆ˜í–‰</strong></li>
  <li>í•´ë‹¹ ë„ë©”ì¸ì˜ trust chain ì´ ê¹¨ì ¸ ìˆì–´(<code class="language-plaintext highlighter-rouge">broken trust chain</code>)</li>
  <li>ìµœì¢…ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ <strong>SERVFAIL</strong> ë¦¬í„´</li>
</ol>

<p>ì¦‰, UPSTREAM_DNS ì¤€ ì‘ë‹µì´ DNSSEC ê·œì¹™ ê¸°ì¤€ìœ¼ë¡œëŠ” â€˜ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ìƒíƒœâ€™</p>

<p>ê·¸ë˜ì„œ:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">dig @UPSTREAM_DNS</code> : ê²€ì¦ ì—†ì´ ë°ì´í„°ë§Œ ë³´ê¸° â†’ í•­ìƒ NOERROR</li>
  <li><code class="language-plaintext highlighter-rouge">dig @127.0.0.1</code> : ê²€ì¦ê¹Œì§€ í•˜ë‹¤ê°€ ì‹¤íŒ¨ â†’ SERVFAIL</li>
</ul>

<p>DNSSEC ë•Œë¬¸ì¸ì§€ í™•ì¸í•  ë•ŒëŠ” <code class="language-plaintext highlighter-rouge">+cdflag</code> ì˜µì…˜ì´ ìœ ìš©í•˜ë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dig @127.0.0.1 install.internal-example.com +dnssec +noall +answer +comments
<span class="c">## SERVFAIL</span>
dig @127.0.0.1 install.internal-example.com +cdflag +noall +answer +comments
<span class="c">## ì •ìƒ ì‘ë‹µ</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">+cdflag</code> = Checking Disabled</li>
  <li>ì¦‰ â€œê²€ì¦ì€ í•˜ì§€ ë§ê³ , ì‘ë‹µë§Œ ë‹¬ë¼â€ëŠ” ì˜ë¯¸</li>
  <li>ì—¬ê¸°ì„œëŠ” NOERROR + ì •ìƒ A ë ˆì½”ë“œê°€ ë–¨ì–´ì§ â†’ <strong>ê²€ì¦ë§Œ ë¹¼ë©´ ë°ì´í„°ëŠ” ì •ìƒ</strong>ì´ë¼ëŠ” ëœ»</li>
</ul>

<hr />

<h1 id="í•´ê²°">í•´ê²°</h1>

<p>ì´ë²ˆ í™˜ê²½ì—ì„œ <code class="language-plaintext highlighter-rouge">LOCAL_DNS</code> ëŠ” <strong>ë‚´ë¶€ ìºì‹œ/í¬ì›Œë”ìš©</strong>ì´ì—ˆê³ ,<br />
êµ³ì´ ì´ ì„œë²„ì—ì„œê¹Œì§€ DNSSEC ê²€ì¦ì„ í•  í•„ìš”ëŠ” ì—†ë‹¤ê³  íŒë‹¨í–ˆë‹¤.</p>

<p>ê·¸ë˜ì„œ <strong>DNSSEC ê²€ì¦ë§Œ ë„ëŠ” ë°©í–¥</strong>ìœ¼ë¡œ ì„¤ì •ì„ ìˆ˜ì •í–ˆë‹¤.</p>

<p>ê¸°ì¡´ <code class="language-plaintext highlighter-rouge">/etc/named.conf</code> (ê°œë…):</p>

<div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">options</span> {
    <span class="n">directory</span> <span class="s2">"/var/named"</span>;
    <span class="n">recursion</span> <span class="n">yes</span>;

    <span class="n">forwarders</span> {
        <span class="n">UPSTREAM_DNS_IP</span>;
    };

    <span class="n">dnssec</span>-<span class="n">enable</span> <span class="n">yes</span>;
    <span class="n">dnssec</span>-<span class="n">validation</span> <span class="n">auto</span>;
};
</code></pre></div></div>

<p>ë³€ê²½ í›„:</p>

<div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">options</span> {
    <span class="n">directory</span> <span class="s2">"/var/named"</span>;
    <span class="n">recursion</span> <span class="n">yes</span>;

    <span class="n">forwarders</span> {
        <span class="n">UPSTREAM_DNS_IP</span>;
    };

    <span class="n">dnssec</span>-<span class="n">enable</span> <span class="n">yes</span>;        // ê¸°ëŠ¥ì€ ì¼œë‘¬ë„ ë¨
    <span class="n">dnssec</span>-<span class="n">validation</span> <span class="n">no</span>;     // ğŸ”¥ ê²€ì¦ë§Œ <span class="n">OFF</span>
};
</code></pre></div></div>

<p>ì ìš©:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>named-checkconf
<span class="nb">sudo </span>systemctl reload named
</code></pre></div></div>

<p>ê·¸ë¦¬ê³  ë‹¤ì‹œ í…ŒìŠ¤íŠ¸:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dig @127.0.0.1 install.internal-example.com +noall +answer +comments
<span class="p">;;</span> status: NOERROR

nslookup install.internal-example.com LOCAL_DNS_IP
<span class="p">;;</span> ìœˆë„ìš°ì—ì„œë„ ì •ìƒ ì‘ë‹µ
</code></pre></div></div>

<p>ì´í›„ í•´ë‹¹ ë„ë©”ì¸ ì ‘ì† ë¬¸ì œëŠ” ëª¨ë‘ í•´ê²°ë˜ì—ˆë‹¤.</p>

<hr />

<h1 id="ë©”ëª¨">ë©”ëª¨</h1>

<ul>
  <li>ë‹¨ìˆœ <strong>ìºì‹œ/í¬ì›Œë”© ìš©ë„ë¡œ ì“°ëŠ” BIND</strong> ë¼ë„, ê¸°ë³¸ê°’ì´ë©´ DNSSEC ê²€ì¦ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">SERVFAIL</code> + ë¡œê·¸ì— <code class="language-plaintext highlighter-rouge">broken trust chain resolving ...</code> ì´ ë³´ì´ë©´<br />
â†’ <strong>DNSSEC ê²€ì¦ ì‹¤íŒ¨</strong>ë¥¼ ìš°ì„  ì˜ì‹¬í•´ë³¼ ê²ƒ.</li>
  <li>ë¹ ë¥´ê²Œ í™•ì¸í•  í¬ì¸íŠ¸:
    <ol>
      <li><code class="language-plaintext highlighter-rouge">dig @UPSTREAM_DNS</code> vs <code class="language-plaintext highlighter-rouge">dig @LOCAL_DNS</code> ë¹„êµ</li>
      <li><code class="language-plaintext highlighter-rouge">dig @LOCAL_DNS ... +cdflag</code> ë¡œ ê²€ì¦ ìš°íšŒí•´ ë³´ê¸°</li>
      <li><code class="language-plaintext highlighter-rouge">/etc/named.conf</code> ì˜ <code class="language-plaintext highlighter-rouge">dnssec-validation</code> ê°’ í™•ì¸</li>
    </ol>
  </li>
</ul>

<p>ì´ë²ˆ ì¼€ì´ìŠ¤ì˜ í•œ ì¤„ ì •ë¦¬:</p>

<blockquote>
  <p>â€œì›ë˜ DNSëŠ” ë”°ë¡œ ìˆëŠ”ë°, ì„ì‹œë¡œ ì˜¬ë ¤ë‘” ë¦¬ëˆ…ìŠ¤ BINDë¥¼ DNSë¡œ ì“°ë‹¤ê°€<br />
ì´ ì„œë²„ê°€ DNSSEC ê²€ì¦ê¹Œì§€ í•˜ë©´ì„œ ë‚´ë¶€ ë„ë©”ì¸ ì²´ì¸ì´ ê¹¨ì§„ ê±¸ SERVFAILë¡œ ë§‰ê³  ìˆì—ˆë‹¤.â€</p>
</blockquote>

        <div>
          <p class="post-info">
            <!-- <link rel="canonical" href="http://jhy156456.github.io/"/> -->
            <script
              src="https://utteranc.es/client.js"
              repo="jhy156456/github.io-comments"
              issue-term="pathname"
              label="Comment"
              theme="github-light"
              crossorigin="anonymous"
              rel="canonical"
              async></script>
          </p>
        </div>

        <p class="post-info">
          ì´ ë¬¸ì„œëŠ”<a href="/">
            jhy156456</a>ì— ì˜í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.<br/>
          <!-- <a
          href="https://creativecommons.org/licenses/by/4.0/"
          target="_blank"
          rel="external nofollow">creative commons 4.0</a>
          ë¼ì´ì„¼ìŠ¤ì— ëŒ€í•œ êµ­ì œ ë¼ì´ì„¼ìŠ¤ ê³„ì•½<br/> -->
          ë§ˆì§€ë§‰ ìˆ˜ì • ë‚ ì§œ:2025-12-10 17:00:00
        </p>
      </div>
    </article>

    <!-- <div class="related-post-lists">
    <div class="post-lists">
    <div class="post-lists-body">
    <div class="post-list-item">
    <div class="post-list-item-container">
    <div class="item-label">
    <div class="item-title"><a href="induction.html">å½’çº³çš„éšæƒ³</a></div>
    <div class="item-meta clearfix">
    <div class="item-meta-ico bg-ico-image" style="background: url('../usr/themes/pinghsu/images/bg-ico.png') no-repeat;background-size: 40px auto;"></div>
    <div class="item-meta-cat"><a href="../category/thoughts/index.html">Thoughts</a></div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div> -->

    <footer class="footer bg-white">
  

  <div class="footer-social">
    <div class="footer-container clearfix">
      <div class="social-list">
        <a
          class="social github"
          target="blank"
          href="https://github.com/jhy156456"
          title="github"
          data-hover="GitHub">GitHub</a>
        <a
          class="social tistory"
          target="blank"
          href="http://jhy156456.tistory.com"
          title="tistory"
          data-hover="Tistory">Tistory</a>
        <a
          class="social linkedin"
          target="blank"
          href="https://www.linkedin.com/in/%ED%98%84%EC%98%81-%EC%A0%95-6b2660252/"
          title="linkedin"
          data-hover="LinkedIn">LinkedIn</a>
        <a
          class="social rss"
          target="blank"
          href="mailto:jcypher1024@outlook.com"
          title="E-mail"
          data-hover="E-mail">E-mail</a>

      </div>
    </div>
  </div>
  <div class="footer-meta">
    <div class="footer-container">
      <div class="meta-item meta-copyright">
        <div class="meta-copyright-info">
          <a href="/" class="info-logo">
            <img
              src="https://jhy156456.github.io/style/images/logo-jhy156456.png"
              title="jhy156456_blog"
              data-hover="jhy156456_blog"
              alt="jhy156456_blog" />
          </a>
          <div class="info-text">
            <p>
              Theme is
              <a
                href="http://www.liberxue.com/2017/08/03/Jekyllthemes.html"
                title="è®¿é—® Jekyll liberxueä¸»é¢˜"
                data-hover="Jekyll liberxue"
                target="_blank">Jekyll liberxue</a>
              by
              <a href="http://www.liberxue.com/about" target="_blank">liberxue</a>
            </p>
            <p>
              Powered by
              <a
                href="https://jhy156456.github.io/tags/#Jekyll"
                title="Jekyll"
                data-hover="Jekyll"
                target="_blank"
                rel="nofollow">Jekyll</a>
            </p>
            <!-- <p>&copy; 2017 <a href="/feed.xml" title="è®¿é—® liberxue blog RSS" -->
            <!-- data-hover="liberxue blog RSS">liberxue blog RSS</a></p> -->
            <!-- <p>ê²Œì‹œê¸€ï¼šê°œ</p> --><p>ì´ ê²Œì‹œê¸€ï¼š102ê°œ
          </p>
            <!-- <p>ì´blogëŠ” Forkë˜ì—ˆìŠµë‹ˆë‹¤.</p><iframe
            src="http://ghbtns.com/github-btn.html?user=liberxue&repo=liberxue.github.io&type=fork&count=true"
            allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe> -->
          </div>
        </div>
      </div>
      <div class="meta-item meta-posts">
        <h3 class="meta-title" style="-webkit-margin-after: 0">ë‹¤ë¥¸ ê²Œì‹œê¸€</h3>
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
      <div class="meta-item meta-comments">
        <h3 class="meta-title" style="-webkit-margin-after: 0">ìµœì‹ ê¸€</h3>

        
          
            <li>
              <a
                href="/2026/01/02/os-zip-shell-script.html"
                title="[de] test"
                data-hover="[de] test">
                [de] test</a>
            </li>
          
        
          
            <li>
              <a
                href="/2025/12/10/os-local-dns-issue.html"
                title="[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC)"
                data-hover="[infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC)">
                [infra] ë‚´ë¶€ DNS ë³€ê²½ í›„ íŠ¹ì • ë„ë©”ì¸ SERVFAIL ì´ìŠˆ (BIND + DNSSEC)</a>
            </li>
          
        
          
            <li>
              <a
                href="/2025/11/22/DE-hdfs-cli-not-working.html"
                title="[DE] hdfs cli ëª…ë ¹ì–´ ìˆ˜í–‰ ì•ˆë  ë•Œ"
                data-hover="[DE] hdfs cli ëª…ë ¹ì–´ ìˆ˜í–‰ ì•ˆë  ë•Œ">
                [DE] hdfs cli ëª…ë ¹ì–´ ìˆ˜í–‰ ì•ˆë  ë•Œ</a>
            </li>
          
        
          
            <li>
              <a
                href="/2025/11/12/oracle-delete-from-table.html"
                title="[oracle] delete from table í–ˆì„ ë•Œ ë³µêµ¬ë°©ë²•"
                data-hover="[oracle] delete from table í–ˆì„ ë•Œ ë³µêµ¬ë°©ë²•">
                [oracle] delete from table í–ˆì„ ë•Œ ë³µêµ¬ë°©ë²•</a>
            </li>
          
        
          
            <li>
              <a
                href="/2025/04/15/spring-Missing-IN-or-OUT-parameter.html"
                title="[spring] ì¸ë±ìŠ¤ì—ì„œ ëˆ„ë½ëœ IN ë˜ëŠ” OUT ë§¤ê°œë³€ìˆ˜::11 "
                data-hover="[spring] ì¸ë±ìŠ¤ì—ì„œ ëˆ„ë½ëœ IN ë˜ëŠ” OUT ë§¤ê°œë³€ìˆ˜::11 ">
                [spring] ì¸ë±ìŠ¤ì—ì„œ ëˆ„ë½ëœ IN ë˜ëŠ” OUT ë§¤ê°œë³€ìˆ˜::11 </a>
            </li>
          
        
      </div>
    </div>
  </div>
</footer>
<script src="//cdn.bootcss.com/jquery/2.2.2/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.js"></script>
<script src="/search/js/cb-search.js"></script>
<script>
  // ê²€ìƒ‰ì°½ í´ë¦­ í† ê¸€ ê¸°ëŠ¥
  $(document).ready(function() {
    // IDê°€ ì—†ìœ¼ë©´ í´ë˜ìŠ¤ë¡œ ì°¾ê¸°
    var $searchToggle = $('#navbar-search-toggle');
    if ($searchToggle.length === 0) {
      $searchToggle = $('.navbar-search');
    }
    
    var $searchInput = $('#cb-search-content');
    var $iconSearch = $searchToggle.find('.icon-search');
    
    if ($searchToggle.length === 0) {
      console.log('ê²€ìƒ‰ í† ê¸€ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      return;
    }
    
    // ê²€ìƒ‰ ì•„ì´ì½˜ í´ë¦­ ì‹œ í† ê¸€
    $iconSearch.on('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      
      $searchToggle.toggleClass('active');
      
      // ê²€ìƒ‰ì°½ì´ ì—´ë¦¬ë©´ í¬ì»¤ìŠ¤
      if ($searchToggle.hasClass('active')) {
        setTimeout(function() {
          $searchInput.focus();
        }, 150);
      }
    });
    
    // ê²€ìƒ‰ ì…ë ¥ì°½ì´ë‚˜ form í´ë¦­ ì‹œ ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€
    $searchToggle.find('form, input').on('click', function(e) {
      e.stopPropagation();
    });
    
    // ê²€ìƒ‰ì°½ ë‹«ê¸° í•¨ìˆ˜
    function closeSearch() {
      $searchToggle.removeClass('active');
      $searchInput.val('').blur();
    }
    
    // ESC í‚¤ë¡œ ê²€ìƒ‰ì°½ ë‹«ê¸°
    $(document).on('keydown', function(e) {
      if (e.key === 'Escape' || e.keyCode === 27) {
        if ($searchToggle.hasClass('active')) {
          closeSearch();
        }
      }
    });
    
    // ê²€ìƒ‰ì°½ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
    $(document).on('click', function(e) {
      if ($searchToggle.hasClass('active')) {
        if (!$searchToggle.is(e.target) && !$searchToggle.has(e.target).length) {
          closeSearch();
        }
      }
    });
    
    // ê²€ìƒ‰ ê²°ê³¼ í´ë¦­ ì‹œ í•´ë‹¹ ê²Œì‹œê¸€ë¡œ ì´ë™
    $(document).on('click', '.navbar-search form .search-box ul li', function(e) {
      e.preventDefault();
      e.stopPropagation();
      
      var $li = $(this);
      var text = $li.text().trim();
      
      // typeaheadì˜ afterSelectë¥¼ íŠ¸ë¦¬ê±°í•˜ê±°ë‚˜ ì§ì ‘ ì´ë™
      if (typeof window.names !== 'undefined' && typeof window.urls !== 'undefined') {
        var index = window.names.indexOf(text);
        if (index !== -1 && window.urls[index]) {
          window.location.href = window.urls[index];
          closeSearch();
          return false;
        }
      }
      
      // typeaheadê°€ ìƒì„±í•œ ë§í¬ì¸ ê²½ìš°
      var $link = $li.find('a');
      if ($link.length && $link.attr('href')) {
        window.location.href = $link.attr('href');
        closeSearch();
        return false;
      }
    });
  });
  
  $(function() {
    setTimeout(function() {
      $("code").removeClass("hljs");
      $("code").removeClass("language");
    }, 90);
  });
  (function() {
    var bp = document.createElement("script");
    var curProtocol = window.location.protocol.split(":")[0];
    if (curProtocol === "https") {
      bp.src = "https://zz.bdstatic.com/linksubmit/push.js";
    } else {
      bp.src = "http://push.zhanzhang.baidu.com/push.js";
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>

    <!-- Firebase SDK (Firebaseë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë§Œ í•„ìš”) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <!-- ì¡°íšŒìˆ˜ ì¹´ìš´í„° ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="https://jhy156456.github.io/assets/js/view-counter.js"></script>
    <div id="directory-content" class="directory-content">
      <div id="directory"></div>
    </div>
    <script>
      var postDirectoryBuild = function() {
        var postChildren = function children(childNodes, reg) {
            var result = [],
              isReg = typeof reg === "object",
              isStr = typeof reg === "string",
              node,
              i,
              len;
            for (i = 0, len = childNodes.length; i < len; i++) {
              node = childNodes[i];
              if ((node.nodeType === 1 || node.nodeType === 9) && (! reg || (isReg && reg.test(node.tagName.toLowerCase())) || (isStr && node.tagName.toLowerCase() === reg))) {
                result.push(node);
              }
            }
            return result;
          },
          createPostDirectory = function(article, directory, isDirNum) {
            var contentArr = [],
              titleId = [],
              levelArr,
              root,
              level,
              currentList,
              list,
              li,
              link,
              i,
              len;
            levelArr = (function(article, contentArr, titleId) {
              var titleElem = postChildren(article.childNodes, /^h\d$/),
                levelArr = [],
                lastNum = 1,
                lastRevNum = 1,
                count = 0,
                guid = 1,
                id = "directory" + (
                  Math.random() + ""
                ).replace(/\D/, ""),
                lastRevNum,
                num,
                elem;
              while (titleElem.length) {
                elem = titleElem.shift();
                contentArr.push(elem.innerHTML);
                num = + elem.tagName.match(/\d/)[0];
                if (num > lastNum) {
                  levelArr.push(1);
                  lastRevNum += 1;
                } else if (num === lastRevNum || (num > lastRevNum && num <= lastNum)) {
                  levelArr.push(0);
                  lastRevNum = lastRevNum;
                } else if (num < lastRevNum) {
                  levelArr.push(num - lastRevNum);
                  lastRevNum = num;
                }
                count += levelArr[levelArr.length - 1];
                lastNum = num;
                elem.id = elem.id || id + guid++;
                titleId.push(elem.id);
              }
              if (count !== 0 && levelArr[0] === 1) 
                levelArr[0] = 0;
              


              return levelArr;
            })(article, contentArr, titleId);
            currentList = root = document.createElement("ul");
            dirNum = [0];
            for (i = 0, len = levelArr.length; i < len; i++) {
              level = levelArr[i];
              if (level === 1) {
                list = document.createElement("ul");
                if (! currentList.lastElementChild) {
                  currentList.appendChild(document.createElement("li"));
                }
                currentList.lastElementChild.appendChild(list);
                currentList = list;
                dirNum.push(0);
              } else if (level < 0) {
                level *= 2;
                while (level++) {
                  if (level % 2) 
                    dirNum.pop();
                  


                  currentList = currentList.parentNode;
                }
              }
              dirNum[dirNum.length - 1]++;
              li = document.createElement("li");
              link = document.createElement("a");
              link.href = "#" + titleId[i];
              link.title = titleId[i];
              link.title = titleId[i];
              link.innerHTML = ! isDirNum
                ? contentArr[i]
                : dirNum.join(".") + " " + contentArr[i];
              li.appendChild(link);
              currentList.appendChild(li);
            }
            directory.appendChild(root);
          };
        createPostDirectory(document.getElementById("post-content"), document.getElementById("directory"), true);
      };
      postDirectoryBuild();
    </script>
    <script>//           window.addEventListener(
//     "scroll",
//     function () {
//       console.log("??????????");
//     },
//     true
// );
  </script>
  <!-- <script>
  $(document).ready(function () {
  var currentPosition = parseInt($("#directory").css("top"));
  $(window).scroll(function () {
  var position = $(window).scrollTop()-500;
  $("#directory")
  .stop()
  .animate({ top: position + currentPosition + "px" }, 0);
  });
  });
  </script> --><!-- <script>
    $(function () {
    var $win = $(window);
    var top = $(window).scrollTop(); // í˜„ì¬ ìŠ¤í¬ë¡¤ë°”ì˜ ìœ„ì¹˜ê°’ì„ ë°˜í™˜

    /*ì‚¬ìš©ì ì„¤ì • ê°’ ì‹œì‘*/
    var speed = 500; // ë”°ë¼ë‹¤ë‹ ì†ë„ : "slow", "normal", or "fast" or        numeric(ë‹¨ìœ„:msec)
    var easing = "linear"; // ë”°ë¼ë‹¤ë‹ˆëŠ” ë°©ë²• ê¸°ë³¸ ë‘ê°€ì§€ linear, swing
    var $layer = $("#directory"); // ë ˆì´ì–´ ì…€ë ‰íŒ…
    // var layerTopOffset = 650; // ë ˆì´ì–´ ë†’ì´ ìƒí•œì„ , ë‹¨ìœ„:px
    var layerTopOffset = 0; // ë ˆì´ì–´ ë†’ì´ ìƒí•œì„ , ë‹¨ìœ„:px
    // $layer.css("position", "absolute");
    $layer.css("top", "0px"); //ì²« ì‹œì‘ ìœ„ì¹˜
    /*ì‚¬ìš©ì ì„¤ì • ê°’ ë*/

    // ìŠ¤í¬ë¡¤ ë°”ë¥¼ ë‚´ë¦° ìƒíƒœì—ì„œ ë¦¬í”„ë ˆì‹œ í–ˆì„ ê²½ìš°ë¥¼ ìœ„í•´
    if (top > 0) $win.scrollTop(layerTopOffset + top);
    else $win.scrollTop(0);

    //ìŠ¤í¬ë¡¤ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´
    $(window).scroll(function () {
    yPosition = $win.scrollTop() + layerTopOffset;
    //   console.log($win.scrollTop())
    console.log($layer.css("top"))
    if (yPosition < 0) {
    yPosition = 0;
    }
    $layer.animate(
    { top: yPosition},
    { duration: speed, easing: easing, queue: false }
    );
    });
    });
    </script> --><script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    lang = hljs.initHighlightingOnLoad();
  </script>
</body></html>
