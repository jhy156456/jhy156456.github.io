
<!DOCTYPE >
<html lang="zh-cn" data-scribe-reduced-action-queue="true">
  <head>
    <meta content="[python] DatetimeIndex 값 추가하기 및 date관련 함수 - Hayden J GitHub blog" name="title" />
    <meta content="[python] DatetimeIndex 값 추가하기 및 date관련 함수 - Hayden J GitHub blog" name="og:title" />
    <title>[python] DatetimeIndex 값 추가하기 및 date관련 함수 - Hayden J GitHub blog</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>[python] DatetimeIndex 값 추가하기 및 date관련 함수 - Hayden J GitHub blog</title>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[python] DatetimeIndex 값 추가하기 및 date관련 함수 - Hayden J GitHub blog">
<meta name="twitter:keywords" content="[python] DatetimeIndex 값 추가하기 및 date관련 함수 - Hayden J GitHub blog" property="og:description" />
<meta property="og:type" content="article">
<meta property="og:title" content="[python] DatetimeIndex 값 추가하기 및 date관련 함수 - Hayden J GitHub blog">
<meta name="og:keywords"
      content="[python] DatetimeIndex 값 추가하기 및 date관련 함수 - Hayden J GitHub blog|[python] DatetimeIndex 값 추가하기 및 date관련 함수            라이브러리      날짜, 시간 클래스      타임델타 클래스                  1. datetime..."
      property="og:description" />
<meta name="theme-Jekyll by liberxue" content="#eb5055">
<link rel="icon" type="image/png" href="https://jhy156456.github.io/style/favicons/favicon.ico" />
<link href="https://jhy156456.github.io/style/favicons/favicon.ico" rel="shortcut icon" type="image/png">
<!-- 댓글 이슈 수정 -->
<!-- <link rel="canonical" href="https://jhy156456.github.io/"> -->
<link rel="canonical" href="" />
<link rel="alternate" type="application/rss+xml" title="jhy156456" href="https://jhy156456.github.io/feed.xml">
<meta charset="UTF-8">
<!-- <link rel="manifest" href="/manifest.json"> -->
<link rel="shortcut icon" href="https://jhy156456.github.io/style/favicons/favicon.ico" type="image/x-icon">
<meta name="keywords" content="[python] DatetimeIndex 값 추가하기 및 date관련 함수            라이브러리      날짜, 시간 클래스      타임델타 클래스                  1. datetime..."
      property="og:description" />
<meta name="description" content="오늘 무언가를 하지않으면 내일은 저절로 오지않는다" />
<!--<link href="https://cdn.bootcss.com/highlight.js/9.10.0/styles/xcode.min.css" rel="stylesheet">-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css" integrity="sha512-rO+olRTkcf304DQBxSWxln8JXCzTHlKnIdnMUwYvQa9/Jd4cQaNkItIUj6Z4nvW1dqK0SKXLbn9h4KwZTNtAyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>

<!--<link href="https://jhy156456.github.io/assets/css/syntax.css" rel="stylesheet">-->
<link href="https://jhy156456.github.io/style/style-liberxue.css" rel="stylesheet">
<!-- <link href="https://jhy156456.github.io/_sass/minimal-mistakes/_navigation.scss" rel="stylesheet"> -->

<meta content="https://jhy156456.github.io/2021/11/30/DatetimeIndex-%EA%B0%92-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0-%EB%B0%8F-date%EA%B4%80%EB%A0%A8-%ED%95%A8%EC%88%98.html" property="og:url" />
<meta content="https://jhy156456.github.io/2021/11/30/DatetimeIndex-%EA%B0%92-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0-%EB%B0%8F-date%EA%B4%80%EB%A0%A8-%ED%95%A8%EC%88%98.html|[python] DatetimeIndex 값 추가하기 및 date관련 함수            라이브러리      날짜, 시간 클래스      타임델타 클래스                  1. datetime..."
      property="og:description" />
<meta content="article" property="og:type" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S9G62LP1GS"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }

  gtag("js", new Date());
  gtag("config", "G-S9G62LP1GS");
</script>
<!--  -->

    
  </head>

  <body class="" gtools_scp_screen_capture_injected="true">
    <header id="header" class="header bg-white">
      <div class="navbar-container">
        <a
          href="/"
          title="Hayden J GitHub blog"
          class="navbar-logo">
          <img src="https://jhy156456.github.io/style/images/logo-jhy156456.png" alt="Hayden J GitHub blog" />
        </a>
        <div class="navbar-menu">
          
            <a href="https://jhy156456.github.io/">홈</a>
          
            <a href="https://jhy156456.github.io/review">리뷰</a>
          
            <a href="https://jhy156456.github.io/study">카테고리</a>
          
            <a href="https://jhy156456.github.io/archives">기록</a>
          
            <a href="https://jhy156456.github.io/about">About Me</a>
          
        </div>
        <div class="navbar-search" id="navbar-search-toggle">
          <span class="icon-search"></span>
          <form id="cb-search-btn" role="search">
            <span class="search-box">
              <input
                type="text"
                class="input"
                id="cb-search-content"
                required="true"
                placeholder="검색..."
                maxlength="30"
                autocomplete="off" />
            </span>
          </form>
        </div>
        <div class="navbar-mobile-menu" onclick="">
          <span class="icon-menu cross">
            <span class="middle"></span>
          </span>
          <ul>
            
              <li>
                <a href="https://jhy156456.github.io/">홈</a>
              </li>
            
              <li>
                <a href="https://jhy156456.github.io/review">리뷰</a>
              </li>
            
              <li>
                <a href="https://jhy156456.github.io/study">카테고리</a>
              </li>
            
              <li>
                <a href="https://jhy156456.github.io/archives">기록</a>
              </li>
            
              <li>
                <a href="https://jhy156456.github.io/about">About Me</a>
              </li>
            
          </ul>
        </div>
      </div>
    </header>
    <div class="post-header-thumb bg-white}">
      <!-- <div class="post-header-thumb-op"></div> -->
      <div class="post-header-thumb">
        <div class="post-header-thumb-container">
          <h1 class="post-title" itemprop="name headline">[python] DatetimeIndex 값 추가하기 및 date관련 함수</h1>
          <div class="post-data">
            <time datetime="2021-11-30 19:06:42" itemprop="datePublished">작성일자：2021-11-30 19:06:42</time>
            <br/>
            <span class="view-count-label">조회수: <span class="view-count">0</span></span>
            <br/>
            <a
              href="/tags#study"
              title="study"
              data-hover="분류: study">
              분류: study</a>
            <!-- <a href="#read">
            댓글: comments</a> -->
          </div>
          <div class="post-tags">
            
              
              
                
                  <a
                    href="/tags#python"
                    title="python"
                    data-hover="python">
                    python
                    <span>(21)</span>
                    
                  </a>
                
                  <a
                    href="/tags#dataframe"
                    title="dataframe"
                    data-hover="dataframe">
                    dataframe
                    <span>(7)</span>
                    
                  </a>
                
              
              
            
          </div>
        </div>
      </div>
    </div>
    <article
      class="main-post post-page"
      itemscope
      itemtype="http://schema.org/Article">
      <div class="post-header">
        <h1 class="post-title" itemprop="name headline">[python] DatetimeIndex 값 추가하기 및 date관련 함수</h1>
        <div class="post-data">
          <time datetime="2021-11-30 19:06:42" itemprop="datePublished">2021-11-30 19:06:42</time>
          <span class="view-count-label"> | 조회수: <span class="view-count">0</span></span>
        </div>
      </div>
      <div
        id="post-content"
        class="post-content"
        itemprop="articleBody">
        <p class="post-tags">
          
            
            
              
                <a
                  href="/tags#python"
                  title="python"
                  data-hover="python">
                  python
                  <span>(21)</span>
                  
                </a>
              
                <a
                  href="/tags#dataframe"
                  title="dataframe"
                  data-hover="dataframe">
                  dataframe
                  <span>(7)</span>
                  
                </a>
              
            
            
          
        </p>
        <h1 id="python-datetimeindex-값-추가하기-및-date관련-함수">[python] DatetimeIndex 값 추가하기 및 date관련 함수</h1>

<table>
  <thead>
    <tr>
      <th><strong>라이브러리</strong></th>
      <th><strong>날짜, 시간 클래스</strong></th>
      <th><strong>타임델타 클래스</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1. <strong>datetime</strong></td>
      <td><strong>datetime, date, time</strong></td>
      <td><strong>timedelta</strong></td>
    </tr>
    <tr>
      <td>2. <strong>numpy</strong></td>
      <td><strong>datetime64</strong></td>
      <td><strong>timedelta64</strong></td>
    </tr>
    <tr>
      <td>3. <strong>pandas</strong></td>
      <td><strong>Timestamp</strong></td>
      <td><strong>Timedelta</strong></td>
    </tr>
  </tbody>
</table>

<h2 id="numpy">numpy</h2>

<h3 id="범위생성">범위생성</h3>

<h4 id="nparange">np.arange()</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>

<span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="c1"># numpy.ndarray
</span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1"># numpy.datetime64
</span></code></pre></div></div>

<h2 id="datetime">datetime</h2>

<h2 id="pandas">pandas</h2>

<h3 id="datetimeindex">Datetimeindex</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">test_data</span><span class="p">[</span><span class="s">'date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">test_data</span><span class="p">[</span><span class="s">'date'</span><span class="p">])</span>
<span class="n">test_data</span> <span class="o">=</span> <span class="n">test_data</span><span class="p">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="s">"date"</span><span class="p">)</span>
<span class="n">test_data</span> <span class="o">=</span> <span class="n">test_data</span><span class="p">.</span><span class="n">resample</span><span class="p">(</span><span class="n">rule</span><span class="o">=</span><span class="s">"1Q"</span><span class="p">).</span><span class="nb">sum</span><span class="p">()[[</span><span class="s">"수량"</span><span class="p">]]</span>
</code></pre></div></div>

<ol>
  <li>위와 같이 실행하면 test_data.index는 DatetimeIndex이고 test_date.index[0] 의 값은 timestamp이다.</li>
</ol>

<h3 id="datetimeindex에-값-추가하기">DatetimeIndex에 값 추가하기</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="n">dt</span>
<span class="n">quarter_date</span>
<span class="s">"""
DatetimeIndex(['2019-12-31', '2020-03-31', '2020-06-30', '2020-09-30',
               '2020-12-31', '2021-03-31', '2021-06-30', '2021-09-30',
               '2021-12-31', '2022-03-31'],
              dtype='datetime64[ns]', name='date', freq='Q-DEC')

"""</span>
<span class="n">quarter_date</span><span class="p">.</span><span class="n">union</span><span class="p">(</span><span class="n">quarter_date</span> <span class="o">+</span> <span class="n">dt</span><span class="p">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">365</span><span class="p">))</span>
<span class="s">"""
DatetimeIndex(['2019-12-31', '2020-03-31', '2020-06-30', '2020-09-30',
               '2020-12-30', '2020-12-31', '2021-03-31', '2021-06-30',
               '2021-09-30', '2021-12-31', '2022-03-31', '2022-06-30',
               '2022-09-30', '2022-12-31', '2023-03-31'],
              dtype='datetime64[ns]', name='date', freq=None)
"""</span>

<span class="n">quarter_date</span><span class="p">.</span><span class="n">union</span><span class="p">(</span><span class="n">pd</span><span class="p">.</span><span class="n">date_range</span><span class="p">(</span><span class="s">"2022-12-31"</span><span class="p">,</span><span class="s">"2024-12-31"</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="s">"1Q"</span><span class="p">))</span>
<span class="s">"""

"""</span>
</code></pre></div></div>

<p>참조 : <a href="https://stackoverflow.com/questions/55695924/how-to-concatenate-datetimeindex-objects-in-pandas">python - How to concatenate DatetimeIndex objects in pandas? - Stack Overflow</a></p>

<h3 id="datetimeindex-split">datetimeindex split</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">.</span><span class="n">index</span><span class="o">&lt;</span><span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
</code></pre></div></div>

<ul>
  <li>명시한 날짜는 포함하지않음 (&lt;)</li>
</ul>

<h3 id="datetimeindex-값-밀기">DatetimeIndex 값 밀기</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="n">date_df</span><span class="p">.</span><span class="n">index</span> <span class="o">+</span> <span class="n">dt</span><span class="p">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">240</span><span class="p">)).</span><span class="n">asfreq</span><span class="p">(</span><span class="s">"Q"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="범위생성-1">범위생성</h3>

<h4 id="pddate_rangew">pd.date_range(W)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pd</span><span class="p">.</span><span class="n">date_range</span><span class="p">(</span><span class="s">"2018-1-1"</span><span class="p">,</span> <span class="s">"2018-12-31"</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">"W"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s">'2018-01-07'</span><span class="p">,</span> <span class="s">'2018-01-14'</span><span class="p">,</span> <span class="s">'2018-01-21'</span><span class="p">,</span> <span class="s">'2018-01-28'</span><span class="p">,</span>
               <span class="s">'2018-02-04'</span><span class="p">,</span> <span class="s">'2018-02-11'</span><span class="p">,</span> <span class="s">'2018-02-18'</span><span class="p">,</span> <span class="s">'2018-02-25'</span><span class="p">,</span>
               <span class="s">'2018-03-04'</span><span class="p">,</span> <span class="s">'2018-03-11'</span><span class="p">,</span> <span class="s">'2018-03-18'</span><span class="p">,</span> <span class="s">'2018-03-25'</span><span class="p">,</span>
               <span class="s">'2018-04-01'</span><span class="p">,</span> <span class="s">'2018-04-08'</span><span class="p">,</span> <span class="s">'2018-04-15'</span><span class="p">,</span> <span class="s">'2018-04-22'</span><span class="p">,</span>
               <span class="s">'2018-04-29'</span><span class="p">,</span> <span class="s">'2018-05-06'</span><span class="p">,</span> <span class="s">'2018-05-13'</span><span class="p">,</span> <span class="s">'2018-05-20'</span><span class="p">,</span>
               <span class="s">'2018-05-27'</span><span class="p">,</span> <span class="s">'2018-06-03'</span><span class="p">,</span> <span class="s">'2018-06-10'</span><span class="p">,</span> <span class="s">'2018-06-17'</span><span class="p">,</span>
               <span class="s">'2018-06-24'</span><span class="p">,</span> <span class="s">'2018-07-01'</span><span class="p">,</span> <span class="s">'2018-07-08'</span><span class="p">,</span> <span class="s">'2018-07-15'</span><span class="p">,</span>
               <span class="s">'2018-07-22'</span><span class="p">,</span> <span class="s">'2018-07-29'</span><span class="p">,</span> <span class="s">'2018-08-05'</span><span class="p">,</span> <span class="s">'2018-08-12'</span><span class="p">,</span>
               <span class="s">'2018-08-19'</span><span class="p">,</span> <span class="s">'2018-08-26'</span><span class="p">,</span> <span class="s">'2018-09-02'</span><span class="p">,</span> <span class="s">'2018-09-09'</span><span class="p">,</span>
               <span class="s">'2018-09-16'</span><span class="p">,</span> <span class="s">'2018-09-23'</span><span class="p">,</span> <span class="s">'2018-09-30'</span><span class="p">,</span> <span class="s">'2018-10-07'</span><span class="p">,</span>
               <span class="s">'2018-10-14'</span><span class="p">,</span> <span class="s">'2018-10-21'</span><span class="p">,</span> <span class="s">'2018-10-28'</span><span class="p">,</span> <span class="s">'2018-11-04'</span><span class="p">,</span>
               <span class="s">'2018-11-11'</span><span class="p">,</span> <span class="s">'2018-11-18'</span><span class="p">,</span> <span class="s">'2018-11-25'</span><span class="p">,</span> <span class="s">'2018-12-02'</span><span class="p">,</span>
               <span class="s">'2018-12-09'</span><span class="p">,</span> <span class="s">'2018-12-16'</span><span class="p">,</span> <span class="s">'2018-12-23'</span><span class="p">,</span> <span class="s">'2018-12-30'</span><span class="p">],</span>
              <span class="n">dtype</span><span class="o">=</span><span class="s">'datetime64[ns]'</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">'W-SUN'</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="pddate_range5t">pd.date_range(5T)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pd</span><span class="p">.</span><span class="n">date_range</span><span class="p">(</span><span class="s">'2019-01-01 00:00:00'</span><span class="p">,</span> <span class="s">'2019-01-01 05:00:00'</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">'5T'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s">'2019-01-01 00:00:00'</span><span class="p">,</span> <span class="s">'2019-01-01 00:05:00'</span><span class="p">,</span>
               <span class="s">'2019-01-01 00:10:00'</span><span class="p">,</span> <span class="s">'2019-01-01 00:15:00'</span><span class="p">,</span>
               <span class="s">'2019-01-01 00:20:00'</span><span class="p">,</span> <span class="s">'2019-01-01 00:25:00'</span><span class="p">,</span>
               <span class="s">'2019-01-01 00:30:00'</span><span class="p">,</span> <span class="s">'2019-01-01 00:35:00'</span><span class="p">,</span>
               <span class="s">'2019-01-01 00:40:00'</span><span class="p">,</span> <span class="s">'2019-01-01 00:45:00'</span><span class="p">,</span>
               <span class="s">'2019-01-01 00:50:00'</span><span class="p">,</span> <span class="s">'2019-01-01 00:55:00'</span><span class="p">,</span>
               <span class="s">'2019-01-01 01:00:00'</span><span class="p">],</span>
              <span class="n">dtype</span><span class="o">=</span><span class="s">'datetime64[ns]'</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">'5T'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="resample">resample</h3>

<ul>
  <li>시작년도를 포함(14-10-07,14-10-24..)하여 반년(14-12-30,15-06-30..)씩 묶고싶을떄</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">train_data</span><span class="p">.</span><span class="n">resample</span><span class="p">(</span><span class="n">rule</span><span class="o">=</span><span class="s">"2Q"</span><span class="p">).</span><span class="n">agg</span><span class="p">({</span><span class="s">'수량'</span><span class="p">:</span> <span class="nb">sum</span><span class="p">,</span> <span class="s">'번호'</span><span class="p">:</span> <span class="s">'|'</span><span class="p">.</span><span class="n">join</span><span class="p">})</span>
<span class="n">날짜</span><span class="p">,</span><span class="n">수량</span><span class="p">,</span><span class="n">번호</span>
<span class="mi">2014</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">141007</span><span class="o">|</span><span class="mi">141007</span><span class="o">|</span><span class="mi">141017</span><span class="o">|</span><span class="mi">141203</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">150223</span><span class="o">|</span><span class="mi">150227</span><span class="o">|</span><span class="mi">150626</span>
</code></pre></div></div>

<h4 id="resample했을-때-원하는-날짜까지-데이터가-없을-경우">resample했을 때 원하는 날짜까지 데이터가 없을 경우</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">2017</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mi">3</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mi">1</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mi">1</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mi">1</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mi">1</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mi">1</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mi">3</span>
</code></pre></div></div>

<p>이런 데이터 상황에서 끝에 2019-12-31이 포함되지 않아서 문제가 됐었는데</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">t_index</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">pd</span><span class="p">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">train_df</span><span class="p">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s">'2019-12-31'</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">"1Q"</span><span class="p">))</span>

<span class="n">DatetimeIndex</span><span class="p">([</span><span class="s">'2015-06-30'</span><span class="p">,</span> <span class="s">'2015-09-30'</span><span class="p">,</span> <span class="s">'2015-12-31'</span><span class="p">,</span> <span class="s">'2016-03-31'</span><span class="p">,</span>
               <span class="s">'2016-06-30'</span><span class="p">,</span> <span class="s">'2016-09-30'</span><span class="p">,</span> <span class="s">'2016-12-31'</span><span class="p">,</span> <span class="s">'2017-03-31'</span><span class="p">,</span>
               <span class="s">'2017-06-30'</span><span class="p">,</span> <span class="s">'2017-09-30'</span><span class="p">,</span> <span class="s">'2017-12-31'</span><span class="p">,</span> <span class="s">'2018-03-31'</span><span class="p">,</span>
               <span class="s">'2018-06-30'</span><span class="p">,</span> <span class="s">'2018-09-30'</span><span class="p">,</span> <span class="s">'2018-12-31'</span><span class="p">,</span> <span class="s">'2019-03-31'</span><span class="p">,</span>
               <span class="s">'2019-06-30'</span><span class="p">,</span> <span class="s">'2019-09-30'</span><span class="p">,</span> <span class="s">'2019-12-31'</span><span class="p">],</span>
              <span class="n">dtype</span><span class="o">=</span><span class="s">'datetime64[ns]'</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">'Q-DEC'</span><span class="p">)</span>
</code></pre></div></div>

<p>함수를 통해</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">train_df</span><span class="p">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">t_index</span><span class="p">).</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mf">1.0</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mf">1.0</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mf">2.0</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mf">0.0</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mf">3.0</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mf">1.0</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mf">1.0</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mf">0.0</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mf">0.0</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mf">1.0</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mf">1.0</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mf">0.0</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="mf">0.0</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mf">1.0</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mf">3.0</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span><span class="n">NaN</span>
</code></pre></div></div>

<p>결과를 만들어낼 수 있다.</p>

<p>참조 :</p>

<p><a href="https://stackoverflow.com/questions/45908146/pandas-changing-the-start-and-end-date-of-resampled-timeseries">python - pandas- changing the start and end date of resampled timeseries - Stack Overflow</a>## pandas 주기 및 오프셋</p>

<h3 id="주기">주기</h3>

<p>pandas 주기 코드</p>

<table>
  <thead>
    <tr>
      <th>코드</th>
      <th>설명</th>
      <th>코드</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>D</td>
      <td>달력상 일</td>
      <td>B</td>
      <td>영업일</td>
    </tr>
    <tr>
      <td>W</td>
      <td>주</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>M</td>
      <td>월말</td>
      <td>BM</td>
      <td>영업일 기준 월말</td>
    </tr>
    <tr>
      <td>Q</td>
      <td>분기말</td>
      <td>BQ</td>
      <td>영업일 기준 분기말</td>
    </tr>
    <tr>
      <td>A</td>
      <td>연말</td>
      <td>BA</td>
      <td>영업일 기준 연말</td>
    </tr>
    <tr>
      <td>H</td>
      <td>시간</td>
      <td>BH</td>
      <td>영업 시간</td>
    </tr>
    <tr>
      <td>T</td>
      <td>분</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>S</td>
      <td>초</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>L</td>
      <td>밀리초</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>U</td>
      <td>마이크로초</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>N</td>
      <td>나노초</td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="a">a</h2>
<h2 id="b">b</h2>
<h2 id="c">c</h2>

<p>참조</p>

<p>[1] <a href="https://ellun.tistory.com/320">python, numpy, pandas 날짜 타입 비교 및 정리</a></p>

<p>[2] <a href="https://datascienceschool.net/01%20python/04.08%20%EC%8B%9C%EA%B3%84%EC%97%B4%20%EC%9E%90%EB%A3%8C%20%EB%8B%A4%EB%A3%A8%EA%B8%B0.html">4.8 시계열 자료 다루기 — 데이터 사이언스 스쿨</a></p>

<p>[3] <a href="https://stackoverflow.com/questions/55695924/how-to-concatenate-datetimeindex-objects-in-pandas">python - How to concatenate DatetimeIndex objects in pandas? - Stack Overflow</a></p>

        <div>
          <p class="post-info">
            <!-- <link rel="canonical" href="http://jhy156456.github.io/"/> -->
            <script
              src="https://utteranc.es/client.js"
              repo="jhy156456/github.io-comments"
              issue-term="pathname"
              label="Comment"
              theme="github-light"
              crossorigin="anonymous"
              rel="canonical"
              async></script>
          </p>
        </div>

        <p class="post-info">
          이 문서는<a href="/">
            jhy156456</a>에 의해 작성되었습니다.<br/>
          <!-- <a
          href="https://creativecommons.org/licenses/by/4.0/"
          target="_blank"
          rel="external nofollow">creative commons 4.0</a>
          라이센스에 대한 국제 라이센스 계약<br/> -->
          마지막 수정 날짜:2021-11-30 19:06:42
        </p>
      </div>
    </article>

    <!-- <div class="related-post-lists">
    <div class="post-lists">
    <div class="post-lists-body">
    <div class="post-list-item">
    <div class="post-list-item-container">
    <div class="item-label">
    <div class="item-title"><a href="induction.html">归纳的随想</a></div>
    <div class="item-meta clearfix">
    <div class="item-meta-ico bg-ico-image" style="background: url('../usr/themes/pinghsu/images/bg-ico.png') no-repeat;background-size: 40px auto;"></div>
    <div class="item-meta-cat"><a href="../category/thoughts/index.html">Thoughts</a></div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div> -->

    <footer class="footer bg-white">
  

  <div class="footer-social">
    <div class="footer-container clearfix">
      <div class="social-list">
        <a
          class="social github"
          target="blank"
          href="https://github.com/jhy156456"
          title="github"
          data-hover="GitHub">GitHub</a>
        <a
          class="social tistory"
          target="blank"
          href="http://jhy156456.tistory.com"
          title="tistory"
          data-hover="Tistory">Tistory</a>
        <a
          class="social linkedin"
          target="blank"
          href="https://www.linkedin.com/in/%ED%98%84%EC%98%81-%EC%A0%95-6b2660252/"
          title="linkedin"
          data-hover="LinkedIn">LinkedIn</a>
        <a
          class="social rss"
          target="blank"
          href="mailto:jcypher1024@outlook.com"
          title="E-mail"
          data-hover="E-mail">E-mail</a>

      </div>
    </div>
  </div>
  <div class="footer-meta">
    <div class="footer-container">
      <div class="meta-item meta-copyright">
        <div class="meta-copyright-info">
          <a href="/" class="info-logo">
            <img
              src="https://jhy156456.github.io/style/images/logo-jhy156456.png"
              title="jhy156456_blog"
              data-hover="jhy156456_blog"
              alt="jhy156456_blog" />
          </a>
          <div class="info-text">
            <p>
              Theme is
              <a
                href="http://www.liberxue.com/2017/08/03/Jekyllthemes.html"
                title="访问 Jekyll liberxue主题"
                data-hover="Jekyll liberxue"
                target="_blank">Jekyll liberxue</a>
              by
              <a href="http://www.liberxue.com/about" target="_blank">liberxue</a>
            </p>
            <p>
              Powered by
              <a
                href="https://jhy156456.github.io/tags/#Jekyll"
                title="Jekyll"
                data-hover="Jekyll"
                target="_blank"
                rel="nofollow">Jekyll</a>
            </p>
            <!-- <p>&copy; 2017 <a href="/feed.xml" title="访问 liberxue blog RSS" -->
            <!-- data-hover="liberxue blog RSS">liberxue blog RSS</a></p> -->
            <!-- <p>게시글：개</p> --><p>총 게시글：102개
          </p>
            <!-- <p>이blog는 Fork되었습니다.</p><iframe
            src="http://ghbtns.com/github-btn.html?user=liberxue&repo=liberxue.github.io&type=fork&count=true"
            allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe> -->
          </div>
        </div>
      </div>
      <div class="meta-item meta-posts">
        <h3 class="meta-title" style="-webkit-margin-after: 0">다른 게시글</h3>
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
      <div class="meta-item meta-comments">
        <h3 class="meta-title" style="-webkit-margin-after: 0">최신글</h3>

        
          
            <li>
              <a
                href="/2026/01/02/os-zip-shell-script.html"
                title="[de] test"
                data-hover="[de] test">
                [de] test</a>
            </li>
          
        
          
            <li>
              <a
                href="/2025/12/10/os-local-dns-issue.html"
                title="[infra] 내부 DNS 변경 후 특정 도메인 SERVFAIL 이슈 (BIND + DNSSEC)"
                data-hover="[infra] 내부 DNS 변경 후 특정 도메인 SERVFAIL 이슈 (BIND + DNSSEC)">
                [infra] 내부 DNS 변경 후 특정 도메인 SERVFAIL 이슈 (BIND + DNSSEC)</a>
            </li>
          
        
          
            <li>
              <a
                href="/2025/11/22/DE-hdfs-cli-not-working.html"
                title="[DE] hdfs cli 명령어 수행 안될 때"
                data-hover="[DE] hdfs cli 명령어 수행 안될 때">
                [DE] hdfs cli 명령어 수행 안될 때</a>
            </li>
          
        
          
            <li>
              <a
                href="/2025/11/12/oracle-delete-from-table.html"
                title="[oracle] delete from table 했을 때 복구방법"
                data-hover="[oracle] delete from table 했을 때 복구방법">
                [oracle] delete from table 했을 때 복구방법</a>
            </li>
          
        
          
            <li>
              <a
                href="/2025/04/15/spring-Missing-IN-or-OUT-parameter.html"
                title="[spring] 인덱스에서 누락된 IN 또는 OUT 매개변수::11 "
                data-hover="[spring] 인덱스에서 누락된 IN 또는 OUT 매개변수::11 ">
                [spring] 인덱스에서 누락된 IN 또는 OUT 매개변수::11 </a>
            </li>
          
        
      </div>
    </div>
  </div>
</footer>
<script src="//cdn.bootcss.com/jquery/2.2.2/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.js"></script>
<script src="/search/js/cb-search.js"></script>
<script>
  // 검색창 클릭 토글 기능
  $(document).ready(function() {
    // ID가 없으면 클래스로 찾기
    var $searchToggle = $('#navbar-search-toggle');
    if ($searchToggle.length === 0) {
      $searchToggle = $('.navbar-search');
    }
    
    var $searchInput = $('#cb-search-content');
    var $iconSearch = $searchToggle.find('.icon-search');
    
    if ($searchToggle.length === 0) {
      console.log('검색 토글 요소를 찾을 수 없습니다.');
      return;
    }
    
    // 검색 아이콘 클릭 시 토글
    $iconSearch.on('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      
      $searchToggle.toggleClass('active');
      
      // 검색창이 열리면 포커스
      if ($searchToggle.hasClass('active')) {
        setTimeout(function() {
          $searchInput.focus();
        }, 150);
      }
    });
    
    // 검색 입력창이나 form 클릭 시 이벤트 전파 방지
    $searchToggle.find('form, input').on('click', function(e) {
      e.stopPropagation();
    });
    
    // 검색창 닫기 함수
    function closeSearch() {
      $searchToggle.removeClass('active');
      $searchInput.val('').blur();
    }
    
    // ESC 키로 검색창 닫기
    $(document).on('keydown', function(e) {
      if (e.key === 'Escape' || e.keyCode === 27) {
        if ($searchToggle.hasClass('active')) {
          closeSearch();
        }
      }
    });
    
    // 검색창 외부 클릭 시 닫기
    $(document).on('click', function(e) {
      if ($searchToggle.hasClass('active')) {
        if (!$searchToggle.is(e.target) && !$searchToggle.has(e.target).length) {
          closeSearch();
        }
      }
    });
    
    // 검색 결과 클릭 시 해당 게시글로 이동
    $(document).on('click', '.navbar-search form .search-box ul li', function(e) {
      e.preventDefault();
      e.stopPropagation();
      
      var $li = $(this);
      var text = $li.text().trim();
      
      // typeahead의 afterSelect를 트리거하거나 직접 이동
      if (typeof window.names !== 'undefined' && typeof window.urls !== 'undefined') {
        var index = window.names.indexOf(text);
        if (index !== -1 && window.urls[index]) {
          window.location.href = window.urls[index];
          closeSearch();
          return false;
        }
      }
      
      // typeahead가 생성한 링크인 경우
      var $link = $li.find('a');
      if ($link.length && $link.attr('href')) {
        window.location.href = $link.attr('href');
        closeSearch();
        return false;
      }
    });
  });
  
  $(function() {
    setTimeout(function() {
      $("code").removeClass("hljs");
      $("code").removeClass("language");
    }, 90);
  });
  (function() {
    var bp = document.createElement("script");
    var curProtocol = window.location.protocol.split(":")[0];
    if (curProtocol === "https") {
      bp.src = "https://zz.bdstatic.com/linksubmit/push.js";
    } else {
      bp.src = "http://push.zhanzhang.baidu.com/push.js";
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>

    <!-- Firebase SDK (Firebase를 사용하는 경우에만 필요) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <!-- 조회수 카운터 스크립트 -->
    <script src="https://jhy156456.github.io/assets/js/view-counter.js"></script>
    <div id="directory-content" class="directory-content">
      <div id="directory"></div>
    </div>
    <script>
      var postDirectoryBuild = function() {
        var postChildren = function children(childNodes, reg) {
            var result = [],
              isReg = typeof reg === "object",
              isStr = typeof reg === "string",
              node,
              i,
              len;
            for (i = 0, len = childNodes.length; i < len; i++) {
              node = childNodes[i];
              if ((node.nodeType === 1 || node.nodeType === 9) && (! reg || (isReg && reg.test(node.tagName.toLowerCase())) || (isStr && node.tagName.toLowerCase() === reg))) {
                result.push(node);
              }
            }
            return result;
          },
          createPostDirectory = function(article, directory, isDirNum) {
            var contentArr = [],
              titleId = [],
              levelArr,
              root,
              level,
              currentList,
              list,
              li,
              link,
              i,
              len;
            levelArr = (function(article, contentArr, titleId) {
              var titleElem = postChildren(article.childNodes, /^h\d$/),
                levelArr = [],
                lastNum = 1,
                lastRevNum = 1,
                count = 0,
                guid = 1,
                id = "directory" + (
                  Math.random() + ""
                ).replace(/\D/, ""),
                lastRevNum,
                num,
                elem;
              while (titleElem.length) {
                elem = titleElem.shift();
                contentArr.push(elem.innerHTML);
                num = + elem.tagName.match(/\d/)[0];
                if (num > lastNum) {
                  levelArr.push(1);
                  lastRevNum += 1;
                } else if (num === lastRevNum || (num > lastRevNum && num <= lastNum)) {
                  levelArr.push(0);
                  lastRevNum = lastRevNum;
                } else if (num < lastRevNum) {
                  levelArr.push(num - lastRevNum);
                  lastRevNum = num;
                }
                count += levelArr[levelArr.length - 1];
                lastNum = num;
                elem.id = elem.id || id + guid++;
                titleId.push(elem.id);
              }
              if (count !== 0 && levelArr[0] === 1) 
                levelArr[0] = 0;
              


              return levelArr;
            })(article, contentArr, titleId);
            currentList = root = document.createElement("ul");
            dirNum = [0];
            for (i = 0, len = levelArr.length; i < len; i++) {
              level = levelArr[i];
              if (level === 1) {
                list = document.createElement("ul");
                if (! currentList.lastElementChild) {
                  currentList.appendChild(document.createElement("li"));
                }
                currentList.lastElementChild.appendChild(list);
                currentList = list;
                dirNum.push(0);
              } else if (level < 0) {
                level *= 2;
                while (level++) {
                  if (level % 2) 
                    dirNum.pop();
                  


                  currentList = currentList.parentNode;
                }
              }
              dirNum[dirNum.length - 1]++;
              li = document.createElement("li");
              link = document.createElement("a");
              link.href = "#" + titleId[i];
              link.title = titleId[i];
              link.title = titleId[i];
              link.innerHTML = ! isDirNum
                ? contentArr[i]
                : dirNum.join(".") + " " + contentArr[i];
              li.appendChild(link);
              currentList.appendChild(li);
            }
            directory.appendChild(root);
          };
        createPostDirectory(document.getElementById("post-content"), document.getElementById("directory"), true);
      };
      postDirectoryBuild();
    </script>
    <script>//           window.addEventListener(
//     "scroll",
//     function () {
//       console.log("??????????");
//     },
//     true
// );
  </script>
  <!-- <script>
  $(document).ready(function () {
  var currentPosition = parseInt($("#directory").css("top"));
  $(window).scroll(function () {
  var position = $(window).scrollTop()-500;
  $("#directory")
  .stop()
  .animate({ top: position + currentPosition + "px" }, 0);
  });
  });
  </script> --><!-- <script>
    $(function () {
    var $win = $(window);
    var top = $(window).scrollTop(); // 현재 스크롤바의 위치값을 반환

    /*사용자 설정 값 시작*/
    var speed = 500; // 따라다닐 속도 : "slow", "normal", or "fast" or        numeric(단위:msec)
    var easing = "linear"; // 따라다니는 방법 기본 두가지 linear, swing
    var $layer = $("#directory"); // 레이어 셀렉팅
    // var layerTopOffset = 650; // 레이어 높이 상한선, 단위:px
    var layerTopOffset = 0; // 레이어 높이 상한선, 단위:px
    // $layer.css("position", "absolute");
    $layer.css("top", "0px"); //첫 시작 위치
    /*사용자 설정 값 끝*/

    // 스크롤 바를 내린 상태에서 리프레시 했을 경우를 위해
    if (top > 0) $win.scrollTop(layerTopOffset + top);
    else $win.scrollTop(0);

    //스크롤이벤트가 발생하면
    $(window).scroll(function () {
    yPosition = $win.scrollTop() + layerTopOffset;
    //   console.log($win.scrollTop())
    console.log($layer.css("top"))
    if (yPosition < 0) {
    yPosition = 0;
    }
    $layer.animate(
    { top: yPosition},
    { duration: speed, easing: easing, queue: false }
    );
    });
    });
    </script> --><script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    lang = hljs.initHighlightingOnLoad();
  </script>
</body></html>
